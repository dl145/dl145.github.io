---
title: The LaTex Project
date: 2023-01-31
categories: #[latex, document]
tags: #[first, second]
---

SQL (Structured Query Language) ist eine weit verbreitete Datenbanksprache, mit welcher man Datenbanken erstellen, mit Daten füllen und Abfragen stellen kann.

Der Vorteil von SQL ist, dass es eine deklarative Datenbanksprache ist und nicht imperativ läuft, wie z.B. Java.

Das heißt, wenn man Abfragen stellt, muss man nur sagen was gemacht werden soll und nicht wie es genau umgesetzt werden soll.

Zudem ist die Syntax von SQL an einfacher englische Sprache angesetzt und man kann die Wörter innerhalb von Befehlen beliebig groß- oder kleinschreiben.

# Abfragen
Zu Beginn haben wir uns mit dem Bereich Abfragen stellen in SQL beschäftigt und die ersten Basics im SQL Zoo kennengelernt/wiederholt.

## SELECT basics
Zu den Basics von SQL gehören die Befehle SELECT … FROM, WHERE, IN und BETWEEN.

* SELECT … FROM : Wie der Name andeutet, kann man mit dem SELECT…FROM-Befehl Daten aus einer Datenbank auslesen lassen. Hinter SELECT schreibt man die gewünschten Spaltennamen (bei mehreren mit Kommata getrennt) und auf FROM folgt der Name der Datenbank. Wenn man alle Spalten einer Datenbank ausgeben will, schreibt man SELECT * FROM datenbankname .
WHERE : Dieser Befehl kann eine Ausgabe mit SELECT spezifizieren und ergänzt diese. Mit ihm stellt man Bedingungen an die Ausgabe. Mit SELECT population FROM world WHERE name = 'Germany' gibt man beispielsweise nur die Bevölkerung des Landes mit dem Namen Germany aus.
* IN :Der IN-Befehl ist eine Möglichkeit, die Ausgabe im WHERE Statement zu spezifizieren. Es werden z.B. Listeneinträge definiert, dessen Spalten (teilweise) ausgegeben werden sollen. Auf den Befehl SELECT country, population, capital FROM world WHERE country IN ('United States', 'United Kingdom') folgt die Ausgabe der Länder USA und UK mit ihrer Einwohnerzahl und Hauptstadt.
* BETWEEN : Dieser Befehl ist eine weitere Möglichkeit, den WHERE-Befehl zu gestalten. Hier kann zum Beispiel ein Zahlenbereich angegeben werden, der von einem Attribut eingehalten werden muss, um ausgegeben zu werden. SELECT country, population FROM world WHERE population BETWEEN 1000000 AND 2000000 gibt den Namen und die Bevölkerungszahl der Länder aus, dessen Einwohneranzahl zwischen 1.000.000 und 2.000.000 liegt. Man kann hier auch die Zeichen =, < und > verwenden. Wenn man mehrere Bedingungen miteinander verbindet, benutzt man AND. Ein Beispiel: SELECT country FROM world WHERE population > 999999 AND population < 2000001 . Dieser Befehl bewirkt das gleiche wie der mit BETWEEN.
Übrigens: Spalten in der Ausgabe kann man mit AS im SELECT-Befehl umbennenen.

SELECT name AS Name_neu FROM database
Hier wird das Attribut name in der Tabelle zu Name_neu umbenannt

## SELECT names
Das zweite Kapitel hat die gelernten Basics aus Kapitel 1 trainiert und kleine Ergänzungen vorgenommen.

Mit dem LIKE Operator ist es auch möglich, den WHERE Befehl zu unterstützen. Man benutzt ihn, um Inhalte mit einem bestimmten Muster zu filtern. Der Befehl SELECT country FROM world WHERE country LIKE 'A%' gibt Länder die mit A beginnen, der Befehl SELECT country FROM world WHERE country LIKE '%a' Länder, die mit a enden aus. Auch hier gibt es interessante Ergänzungen. ... LIKE '%ed%' gibt Einträge, die irgendwo ed beinhalten, aus. ... LIKE 'a%a' gibt Einträge aus, die mit a beginnen und a enden aus. ... LIKE 'a___' gibt die Einträge bestehend aus vier Buchstaben und beginnend mit einem a aus.

## SELECT from world
Da in diesem Kapitel nichts komplett neues behandelt wurde, werde ich einige nette Befehle mit Bedeutung vorstellen:

2.1 XOR Erweiterung
1
2
3
SELECT name, population, area 
FROM world 
WHERE area > 3000000 XOR population > 250000000
XOR ist der Operator für exclusive or. Das heißt nur eine der beiden Möglichkeiten darf erfüllt werden und nicht beide.

Im Beispiel werden Länder gesucht, welche entweder eine Fläche von über 3.000.000km2 oder eine Bevölkerung von mehr als 250.000.000 haben (also nicht beides).

2.2 gleiche Wortlänge
1
2
3
SELECT name, capital
FROM world
WHERE length(name) LIKE length(capital)
Mit length(...) kann man die Längen von Wörtern vergleichen.

Im Beispiel werden Länder gesucht, bei denen das Land und die Hauptstadt dieselbe Anzahl an Buchstaben haben.

2.3 Ähnliche Hauptstädte/Länder
1
2
3
4
SELECT name, capital
FROM world
WHERE  left(name,1) = left(capital, 1)
AND name <> capital
Mit left(word, 1) erhält man den ersten Buchstaben des Attributs word, also w. Der Operator für ungleich ist <>.

Mit dem obigen Befehl erreicht man, dass alle Länder- und jeweilige Hauptstädtenamen mit gleichem Anfangsbuchstaben ausgegeben werden. Zusätzlich dürfen Land- und Hauptstadtname nicht der gleiche sein, wie das z.B. bei Luxemburg der Fall ist.

2.4 Vokale im Namen
1
2
3
4
SELECT name
FROM world
WHERE name LIKE '%a%' and name LIKE '%e%' and name LIKE '%i%' and name LIKE '%o%' and name LIKE '%u%'
AND name NOT LIKE '% %'
Dieser Befehl ist eine Kombination aus bereits gelernten Befehlen. Hier werden alle Länder ausgegeben, welche alle fünf Vokale in ihrem Namen haben und nur aus einem Wort bestehen.

Die Bedingungen treffen nur auf Mozambique (engl. Schreibweise) zu.

3 SELECT from nobel
Hier wird genauso vorgegangen wie bei Kapitel 2 vom Tutorial, die Datenbank heißt jetzt nobel.

3.1 Gewinner seit 2000
1
2
3
SELECT winner
FROM nobel
WHERE subject = 'Peace' AND yr > 1999
In einer beispielhaften ersten Abfrage werden alle Namen der Friedensnobelpreisträger seit 2000 (miteinbezogen) ausgegeben. Damit das Jahr 2000 mit berücksichtigt wird, kann man einfach yr > 1999 schreiben.

3.2 Gewinner aus spezifischen unterschiedlichen Jahren
1
2
SELECT yr, subject, winner
FROM nobel WHERE yr = 1980 AND subject = 'Physics' OR yr = 1984 AND subject = 'Chemistry'
Hier werden die Gewinner des Physiknobelpreises aus dem Jahr 1980 und die Chemiepreisträger aus 1984 ausgegeben. Helfen tut hier der OR-Operator.

4 SELECT within SELECT
Einen neuen Ansatz für SQL-Abfragen bieten ineinander verknüpfte SELECT – Befehle. Wie sie funktionieren und wofür man sie anwenden kann, macht man sich am besten an folgenden Beispielen klar.

4.1 BIP und UK
1
2
3
SELECT name from world
where continent = 'Europe' AND gdp/population > 
(SELECT gdp/population FROM world WHERE name = 'United Kingdom')
Hier werden alle Länder in Europa ausgegeben, welche ein größeres BIP pro Kopf haben als Großbritannien.

Es werden zwei SQL – Befehle gebraucht, andernfalls käme man nicht an den entsprechenden Vergleichswert aus Großbritannien.

4.2 Bevölkerung im Vergleich mit Deutschland
1
2
3
SELECT name, CONCAT(100*population/(SELECT population FROM world WHERE name = 'Germany'), %)
FROM world
WHERE continent = 'Europe'
4.3 Nachbar auf dem Kontinent
1
2
3
4
5
SELECT name, continent
FROM world 
WHERE continent = (SELECT continent FROM world WHERE name = 'Argentina') 
OR continent = (SELECT continent FROM world WHERE name = 'Australia') 
ORDER BY name
Hier werden alle Länder mit Kontinent ausgegeben, welche auf dem selben Kontinent wie Argentinien (Südamerika) oder Australien (Ozeanien) liegen.

Außerdem sollten die Ländernamen alphabetisch aufsteigend geordnet werden. Hierfür wird der ORDER BY Befehl verwendet. Mit ihm können Daten sortiert werden. Hier gibt es zwei Möglichkeiten:

aufsteigend: Default – man braucht das Schlüsselwort asc (ascending) nicht extra dazuschreiben
absteigend: Hier schreibt man ORDER BY ... desc (descending).